<!DOCTYPE html>
<HTML lang = "en">
<HEAD>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  
  

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
  </script>

  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>

  
<style>
pre.hljl {
    border: 1px solid #ccc;
    margin: 5px;
    padding: 5px;
    overflow-x: auto;
    color: rgb(68,68,68); background-color: rgb(251,251,251); }
pre.hljl > span.hljl-t { }
pre.hljl > span.hljl-w { }
pre.hljl > span.hljl-e { }
pre.hljl > span.hljl-eB { }
pre.hljl > span.hljl-o { }
pre.hljl > span.hljl-k { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kc { color: rgb(59,151,46); font-style: italic; }
pre.hljl > span.hljl-kd { color: rgb(214,102,97); font-style: italic; }
pre.hljl > span.hljl-kn { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kp { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kr { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kt { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-n { }
pre.hljl > span.hljl-na { }
pre.hljl > span.hljl-nb { }
pre.hljl > span.hljl-nbp { }
pre.hljl > span.hljl-nc { }
pre.hljl > span.hljl-ncB { }
pre.hljl > span.hljl-nd { color: rgb(214,102,97); }
pre.hljl > span.hljl-ne { }
pre.hljl > span.hljl-neB { }
pre.hljl > span.hljl-nf { color: rgb(66,102,213); }
pre.hljl > span.hljl-nfm { color: rgb(66,102,213); }
pre.hljl > span.hljl-np { }
pre.hljl > span.hljl-nl { }
pre.hljl > span.hljl-nn { }
pre.hljl > span.hljl-no { }
pre.hljl > span.hljl-nt { }
pre.hljl > span.hljl-nv { }
pre.hljl > span.hljl-nvc { }
pre.hljl > span.hljl-nvg { }
pre.hljl > span.hljl-nvi { }
pre.hljl > span.hljl-nvm { }
pre.hljl > span.hljl-l { }
pre.hljl > span.hljl-ld { color: rgb(148,91,176); font-style: italic; }
pre.hljl > span.hljl-s { color: rgb(201,61,57); }
pre.hljl > span.hljl-sa { color: rgb(201,61,57); }
pre.hljl > span.hljl-sb { color: rgb(201,61,57); }
pre.hljl > span.hljl-sc { color: rgb(201,61,57); }
pre.hljl > span.hljl-sd { color: rgb(201,61,57); }
pre.hljl > span.hljl-sdB { color: rgb(201,61,57); }
pre.hljl > span.hljl-sdC { color: rgb(201,61,57); }
pre.hljl > span.hljl-se { color: rgb(59,151,46); }
pre.hljl > span.hljl-sh { color: rgb(201,61,57); }
pre.hljl > span.hljl-si { }
pre.hljl > span.hljl-so { color: rgb(201,61,57); }
pre.hljl > span.hljl-sr { color: rgb(201,61,57); }
pre.hljl > span.hljl-ss { color: rgb(201,61,57); }
pre.hljl > span.hljl-ssB { color: rgb(201,61,57); }
pre.hljl > span.hljl-nB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nbB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nfB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nh { color: rgb(59,151,46); }
pre.hljl > span.hljl-ni { color: rgb(59,151,46); }
pre.hljl > span.hljl-nil { color: rgb(59,151,46); }
pre.hljl > span.hljl-noB { color: rgb(59,151,46); }
pre.hljl > span.hljl-oB { color: rgb(102,102,102); font-weight: bold; }
pre.hljl > span.hljl-ow { color: rgb(102,102,102); font-weight: bold; }
pre.hljl > span.hljl-p { }
pre.hljl > span.hljl-c { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-ch { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cm { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cp { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cpB { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cs { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-csB { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-g { }
pre.hljl > span.hljl-gd { }
pre.hljl > span.hljl-ge { }
pre.hljl > span.hljl-geB { }
pre.hljl > span.hljl-gh { }
pre.hljl > span.hljl-gi { }
pre.hljl > span.hljl-go { }
pre.hljl > span.hljl-gp { }
pre.hljl > span.hljl-gs { }
pre.hljl > span.hljl-gsB { }
pre.hljl > span.hljl-gt { }
</style>



  <style type="text/css">
  @font-face {
  font-style: normal;
  font-weight: 300;
}
@font-face {
  font-style: normal;
  font-weight: 400;
}
@font-face {
  font-style: normal;
  font-weight: 600;
}
html {
  font-family: sans-serif; /* 1 */
  -ms-text-size-adjust: 100%; /* 2 */
  -webkit-text-size-adjust: 100%; /* 2 */
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block; /* 1 */
  vertical-align: baseline; /* 2 */
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit; /* 1 */
  font: inherit; /* 2 */
  margin: 0; /* 3 */
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button; /* 2 */
  cursor: pointer; /* 3 */
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box; /* 2 */
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0; /* 1 */
  padding: 0; /* 2 */
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  font-family: monospace, monospace;
  font-size : 0.8em;
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
thead th {
    border-bottom: 1px solid black;
    background-color: white;
}
tr:nth-child(odd){
  background-color: rgb(248,248,248);
}


/*
* Skeleton V2.0.4
* Copyright 2014, Dave Gamache
* www.getskeleton.com
* Free to use under the MIT license.
* http://www.opensource.org/licenses/mit-license.php
* 12/29/2014
*/
.container {
  position: relative;
  width: 100%;
  max-width: 960px;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box; }
.column,
.columns {
  width: 100%;
  float: left;
  box-sizing: border-box; }
@media (min-width: 400px) {
  .container {
    width: 85%;
    padding: 0; }
}
@media (min-width: 550px) {
  .container {
    width: 80%; }
  .column,
  .columns {
    margin-left: 4%; }
  .column:first-child,
  .columns:first-child {
    margin-left: 0; }

  .one.column,
  .one.columns                    { width: 4.66666666667%; }
  .two.columns                    { width: 13.3333333333%; }
  .three.columns                  { width: 22%;            }
  .four.columns                   { width: 30.6666666667%; }
  .five.columns                   { width: 39.3333333333%; }
  .six.columns                    { width: 48%;            }
  .seven.columns                  { width: 56.6666666667%; }
  .eight.columns                  { width: 65.3333333333%; }
  .nine.columns                   { width: 74.0%;          }
  .ten.columns                    { width: 82.6666666667%; }
  .eleven.columns                 { width: 91.3333333333%; }
  .twelve.columns                 { width: 100%; margin-left: 0; }

  .one-third.column               { width: 30.6666666667%; }
  .two-thirds.column              { width: 65.3333333333%; }

  .one-half.column                { width: 48%; }

  /* Offsets */
  .offset-by-one.column,
  .offset-by-one.columns          { margin-left: 8.66666666667%; }
  .offset-by-two.column,
  .offset-by-two.columns          { margin-left: 17.3333333333%; }
  .offset-by-three.column,
  .offset-by-three.columns        { margin-left: 26%;            }
  .offset-by-four.column,
  .offset-by-four.columns         { margin-left: 34.6666666667%; }
  .offset-by-five.column,
  .offset-by-five.columns         { margin-left: 43.3333333333%; }
  .offset-by-six.column,
  .offset-by-six.columns          { margin-left: 52%;            }
  .offset-by-seven.column,
  .offset-by-seven.columns        { margin-left: 60.6666666667%; }
  .offset-by-eight.column,
  .offset-by-eight.columns        { margin-left: 69.3333333333%; }
  .offset-by-nine.column,
  .offset-by-nine.columns         { margin-left: 78.0%;          }
  .offset-by-ten.column,
  .offset-by-ten.columns          { margin-left: 86.6666666667%; }
  .offset-by-eleven.column,
  .offset-by-eleven.columns       { margin-left: 95.3333333333%; }

  .offset-by-one-third.column,
  .offset-by-one-third.columns    { margin-left: 34.6666666667%; }
  .offset-by-two-thirds.column,
  .offset-by-two-thirds.columns   { margin-left: 69.3333333333%; }

  .offset-by-one-half.column,
  .offset-by-one-half.columns     { margin-left: 52%; }

}
html {
  font-size: 62.5%; }
body {
  font-size: 1.5em; /* currently ems cause chrome bug misinterpreting rems on body element */
  line-height: 1.6;
  font-weight: 400;
  font-family: "Raleway", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: #222; }
h1, h2, h3, h4, h5, h6 {
  margin-top: 0;
  margin-bottom: 2rem;
  font-weight: 300; }
h1 { font-size: 3.6rem; line-height: 1.2;  letter-spacing: -.1rem;}
h2 { font-size: 3.4rem; line-height: 1.25; letter-spacing: -.1rem; }
h3 { font-size: 3.2rem; line-height: 1.3;  letter-spacing: -.1rem; }
h4 { font-size: 2.8rem; line-height: 1.35; letter-spacing: -.08rem; }
h5 { font-size: 2.4rem; line-height: 1.5;  letter-spacing: -.05rem; }
h6 { font-size: 1.5rem; line-height: 1.6;  letter-spacing: 0; }

p {
  margin-top: 0; }
a {
  color: #1EAEDB; }
a:hover {
  color: #0FA0CE; }
.button,
button,
input[type="submit"],
input[type="reset"],
input[type="button"] {
  display: inline-block;
  height: 38px;
  padding: 0 30px;
  color: #555;
  text-align: center;
  font-size: 11px;
  font-weight: 600;
  line-height: 38px;
  letter-spacing: .1rem;
  text-transform: uppercase;
  text-decoration: none;
  white-space: nowrap;
  background-color: transparent;
  border-radius: 4px;
  border: 1px solid #bbb;
  cursor: pointer;
  box-sizing: border-box; }
.button:hover,
button:hover,
input[type="submit"]:hover,
input[type="reset"]:hover,
input[type="button"]:hover,
.button:focus,
button:focus,
input[type="submit"]:focus,
input[type="reset"]:focus,
input[type="button"]:focus {
  color: #333;
  border-color: #888;
  outline: 0; }
.button.button-primary,
button.button-primary,
input[type="submit"].button-primary,
input[type="reset"].button-primary,
input[type="button"].button-primary {
  color: #FFF;
  background-color: #33C3F0;
  border-color: #33C3F0; }
.button.button-primary:hover,
button.button-primary:hover,
input[type="submit"].button-primary:hover,
input[type="reset"].button-primary:hover,
input[type="button"].button-primary:hover,
.button.button-primary:focus,
button.button-primary:focus,
input[type="submit"].button-primary:focus,
input[type="reset"].button-primary:focus,
input[type="button"].button-primary:focus {
  color: #FFF;
  background-color: #1EAEDB;
  border-color: #1EAEDB; }
input[type="email"],
input[type="number"],
input[type="search"],
input[type="text"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea,
select {
  height: 38px;
  padding: 6px 10px; /* The 6px vertically centers text on FF, ignored by Webkit */
  background-color: #fff;
  border: 1px solid #D1D1D1;
  border-radius: 4px;
  box-shadow: none;
  box-sizing: border-box; }
/* Removes awkward default styles on some inputs for iOS */
input[type="email"],
input[type="number"],
input[type="search"],
input[type="text"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea {
  -webkit-appearance: none;
     -moz-appearance: none;
          appearance: none; }
textarea {
  min-height: 65px;
  padding-top: 6px;
  padding-bottom: 6px; }
input[type="email"]:focus,
input[type="number"]:focus,
input[type="search"]:focus,
input[type="text"]:focus,
input[type="tel"]:focus,
input[type="url"]:focus,
input[type="password"]:focus,
textarea:focus,
select:focus {
  border: 1px solid #33C3F0;
  outline: 0; }
label,
legend {
  display: block;
  margin-bottom: .5rem;
  font-weight: 600; }
fieldset {
  padding: 0;
  border-width: 0; }
input[type="checkbox"],
input[type="radio"] {
  display: inline; }
label > .label-body {
  display: inline-block;
  margin-left: .5rem;
  font-weight: normal; }
ul {
  list-style: circle; }
ol {
  list-style: decimal; }
ul ul,
ul ol,
ol ol,
ol ul {
  margin: 1.5rem 0 1.5rem 3rem;
  font-size: 90%; }
li > p {margin : 0;}
th,
td {
  padding: 12px 15px;
  text-align: left;
  border-bottom: 1px solid #E1E1E1; }
th:first-child,
td:first-child {
  padding-left: 0; }
th:last-child,
td:last-child {
  padding-right: 0; }
button,
.button {
  margin-bottom: 1rem; }
input,
textarea,
select,
fieldset {
  margin-bottom: 1.5rem; }
pre,
blockquote,
dl,
figure,
table,
p,
ul,
ol,
form {
  margin-bottom: 1.0rem; }
.u-full-width {
  width: 100%;
  box-sizing: border-box; }
.u-max-full-width {
  max-width: 100%;
  box-sizing: border-box; }
.u-pull-right {
  float: right; }
.u-pull-left {
  float: left; }
hr {
  margin-top: 3rem;
  margin-bottom: 3.5rem;
  border-width: 0;
  border-top: 1px solid #E1E1E1; }
.container:after,
.row:after,
.u-cf {
  content: "";
  display: table;
  clear: both; }

pre {
  display: block;
  padding: 9.5px;
  margin: 0 0 10px;
  font-size: 13px;
  line-height: 1.42857143;
  word-break: break-all;
  word-wrap: break-word;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre.hljl {
  margin: 0 0 10px;
  display: block;
  background: #f5f5f5;
  border-radius: 4px;
  padding : 5px;
}

pre.output {
  background: #ffffff;
}

pre.code {
  background: #ffffff;
}

pre.julia-error {
  color : red
}

code,
kbd,
pre,
samp {
  font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
  font-size: 0.9em;
}


@media (min-width: 400px) {}
@media (min-width: 550px) {}
@media (min-width: 750px) {}
@media (min-width: 1000px) {}
@media (min-width: 1200px) {}

h1.title {margin-top : 20px}
img {max-width : 100%}
div.title {text-align: center;}

  </style>
</HEAD>

<BODY>
  <div class ="container">
    <div class = "row">
      <div class = "col-md-12 twelve columns">
        <div class="title">
          
          
          
        </div>

        <h1>Exercise Sheet 1 - Theseus Labyrinth - Pathfinding</h1>
<h2>Abstract Definition of a Problem Solving AI Task</h2>
<p>Before diving into this pathfinding problem,  we define a parametric type characterizing a problem  where the world is completely observable and the initial state  and goal state are known. The <code>W</code> type parameter represents the type  of the world and the <code>S</code> parameter represents the type of the agent states.</p>


<pre class='hljl'>
<span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>DataStructures</span><span class='hljl-t'>

</span><span class='hljl-k'>mutable struct</span><span class='hljl-t'> </span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>A</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>world</span><span class='hljl-oB'>::</span><span class='hljl-n'>W</span><span class='hljl-t'>
    </span><span class='hljl-n'>initial_state</span><span class='hljl-oB'>::</span><span class='hljl-n'>S</span><span class='hljl-t'>
    </span><span class='hljl-n'>goal_state</span><span class='hljl-oB'>::</span><span class='hljl-n'>S</span><span class='hljl-t'>
    </span><span class='hljl-n'>all_actions</span><span class='hljl-oB'>::</span><span class='hljl-n'>A</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre>



<p>We then define some functions &#40;without any concrete method&#41;,  that will characterize the possible actions on our problem type. Note that the <code>Problem</code> type is immutable and none of those functions  alter state.</p>


<pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>world</span><span class='hljl-t'> </span><span class='hljl-k'>end</span><span class='hljl-t'> 
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>initial_state</span><span class='hljl-t'> </span><span class='hljl-k'>end</span><span class='hljl-t'> 
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>test_goal</span><span class='hljl-t'> </span><span class='hljl-k'>end</span><span class='hljl-t'> 
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>all_actions</span><span class='hljl-t'> </span><span class='hljl-k'>end</span><span class='hljl-t'> 
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>actions</span><span class='hljl-t'> </span><span class='hljl-k'>end</span><span class='hljl-t'> 
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>action_cost</span><span class='hljl-t'> </span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>apply_action</span><span class='hljl-t'> </span><span class='hljl-k'>end</span><span class='hljl-t'> </span><span class='hljl-p'>;</span>
</pre>



<hr />
<h2>Formulation of the Problem</h2>
<h2>PEAS formulation</h2>
<ul>
<li><p><strong>P</strong>erformance: Get Theseus to the goal cell in the shortest number of steps possible</p>
</li>
<li><p><strong>E</strong>nvironment: A grid labyrinth where cells can have walls on their sides</p>
</li>
<li><p><strong>A</strong>ctuators: Move theseus ↑, ↓, ← or → </p>
</li>
<li><p><strong>S</strong>ensors: Theseus has a map of the labyrinth and knows his position</p>
</li>
</ul>
<h4>Properties of the Environment</h4>
<ul>
<li><p><strong>Observability</strong>: Completely observable </p>
</li>
<li><p><strong>Single/Multi-Agent</strong>: Single Agent </p>
</li>
<li><p><strong>Predictability</strong>: Completely deterministic</p>
</li>
<li><p><strong>Episodic or Sequential</strong>: Completely sequential </p>
</li>
<li><p><strong>Static or Dynamic</strong>: Completely static. The world does not change when agent is planning the action. </p>
</li>
<li><p><strong>Discrete or Continuous</strong>: Completely discrete. </p>
</li>
</ul>
<h4>Properties of the agent</h4>
<p>The agent, Theseus, is a single agent. It is not reactive, but has a goal.  It has a state, but has no utility function for goals, because in this environment we have a single goal cell.</p>
<p>We are in the field of agents for problem solving because we can entirely plan  a sequence of actions before acting. </p>

<p>We are now able to define the concrete type of problem solving task: The world type, first parameter of <code>Problem</code>, is a matrix of integers, While the states are defined by a tuple of two integers &#40;coordinates in the labyrinth&#41;  The <strong>states</strong> are all the possible coordinates of theseus in the labyrinth in the form <code>&#40;row,column&#41;</code> </p>


<pre class='hljl'>
<span class='hljl-kd'>const</span><span class='hljl-t'> </span><span class='hljl-n'>TheseusLabyrinth</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-nf'>Matrix</span><span class='hljl-p'>{</span><span class='hljl-n'>Int</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-nf'>Tuple</span><span class='hljl-p'>{</span><span class='hljl-n'>Int</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Int</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-nf'>OrderedSet</span><span class='hljl-p'>{</span><span class='hljl-n'>Symbol</span><span class='hljl-p'>}}</span><span class='hljl-t'> </span><span class='hljl-p'>;</span>
</pre>



<h3>The environment: The labyrinth</h3>


<pre class='hljl'>
<span class='hljl-kd'>const</span><span class='hljl-t'> </span><span class='hljl-n'>EE</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-t'>  </span><span class='hljl-cs'># Empty Cell</span><span class='hljl-t'>
</span><span class='hljl-kd'>const</span><span class='hljl-t'> </span><span class='hljl-n'>LE</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-t'>  </span><span class='hljl-cs'># Left Wall </span><span class='hljl-t'>
</span><span class='hljl-kd'>const</span><span class='hljl-t'> </span><span class='hljl-n'>RI</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-t'>  </span><span class='hljl-cs'># Right Wall </span><span class='hljl-t'>
</span><span class='hljl-kd'>const</span><span class='hljl-t'> </span><span class='hljl-n'>TO</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-t'>  </span><span class='hljl-cs'># Top Wall </span><span class='hljl-t'>
</span><span class='hljl-kd'>const</span><span class='hljl-t'> </span><span class='hljl-n'>BO</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-t'>  </span><span class='hljl-cs'># Bottom Wall</span><span class='hljl-t'>

</span><span class='hljl-cs'># The original labyrinth in the exercise</span><span class='hljl-t'>
</span><span class='hljl-n'>labyrinth</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> 
    </span><span class='hljl-p'>[</span><span class='hljl-t'>
        </span><span class='hljl-n'>EE</span><span class='hljl-t'> </span><span class='hljl-n'>EE</span><span class='hljl-t'> </span><span class='hljl-n'>BO</span><span class='hljl-t'> </span><span class='hljl-n'>EE</span><span class='hljl-t'> </span><span class='hljl-p'>;</span><span class='hljl-t'>
        </span><span class='hljl-n'>EE</span><span class='hljl-t'> </span><span class='hljl-n'>TO</span><span class='hljl-t'> </span><span class='hljl-n'>RI</span><span class='hljl-t'> </span><span class='hljl-n'>EE</span><span class='hljl-t'> </span><span class='hljl-p'>;</span><span class='hljl-t'>
        </span><span class='hljl-n'>TO</span><span class='hljl-t'> </span><span class='hljl-n'>RI</span><span class='hljl-t'> </span><span class='hljl-n'>RI</span><span class='hljl-t'> </span><span class='hljl-n'>EE</span><span class='hljl-t'> </span><span class='hljl-p'>;</span><span class='hljl-t'> 
        </span><span class='hljl-n'>EE</span><span class='hljl-t'> </span><span class='hljl-n'>TO</span><span class='hljl-t'> </span><span class='hljl-n'>EE</span><span class='hljl-t'> </span><span class='hljl-n'>EE</span><span class='hljl-t'> </span><span class='hljl-p'>;</span><span class='hljl-t'> 
    </span><span class='hljl-p'>]</span><span class='hljl-t'>

</span><span class='hljl-nf'>gen_labyrinth</span><span class='hljl-p'>(</span><span class='hljl-n'>rows</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>cols</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>((</span><span class='hljl-ni'>0</span><span class='hljl-oB'>:</span><span class='hljl-ni'>4</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>rows</span><span class='hljl-p'>,</span><span class='hljl-n'>cols</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>print_labyrinth</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-n'>TheseusLabyrinth</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>rows</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>cols</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>size</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>world</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-nf'>repeat</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;▁&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>cols</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>);</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-oB'>=:</span><span class='hljl-n'>blue</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>println</span><span class='hljl-p'>()</span><span class='hljl-t'>
    </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>rows</span><span class='hljl-t'> 
        </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;▏&quot;</span><span class='hljl-p'>;</span><span class='hljl-n'>color</span><span class='hljl-oB'>=:</span><span class='hljl-n'>blue</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-cs'># bot lane</span><span class='hljl-t'>
        </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>cols</span><span class='hljl-t'>
            </span><span class='hljl-n'>color</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-n'>j</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>initial_state</span><span class='hljl-t'> 
                </span><span class='hljl-sc'>:yellow</span><span class='hljl-t'> 
            </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-n'>j</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>goal_state</span><span class='hljl-t'>
                </span><span class='hljl-sc'>:green</span><span class='hljl-t'> 
            </span><span class='hljl-k'>else</span><span class='hljl-t'> 
                </span><span class='hljl-sc'>:white</span><span class='hljl-t'> 
            </span><span class='hljl-k'>end</span><span class='hljl-t'>
            </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>world</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-n'>j</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>EE</span><span class='hljl-t'> 
                </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-sc'>:yellow</span><span class='hljl-t'> 
                    </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;θ&quot;</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
                </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-sc'>:green</span><span class='hljl-t'> 
                    </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;⋆&quot;</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
                </span><span class='hljl-k'>else</span><span class='hljl-t'>
                    </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot; &quot;</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-oB'>=</span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
                </span><span class='hljl-k'>end</span><span class='hljl-t'>
            </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>world</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-n'>j</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>LE</span><span class='hljl-t'>
                </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;▏&quot;</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-oB'>=</span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>world</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-n'>j</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>RI</span><span class='hljl-t'>
                </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;▕&quot;</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-oB'>=</span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>world</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-n'>j</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>TO</span><span class='hljl-t'>
                </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;▔&quot;</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-oB'>=</span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>world</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-n'>j</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>BO</span><span class='hljl-t'>
                </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;▁&quot;</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-oB'>=</span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>else</span><span class='hljl-t'> </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-n'>m</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-n'>j</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-oB'>=</span><span class='hljl-n'>color</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>end</span><span class='hljl-t'>
        </span><span class='hljl-k'>end</span><span class='hljl-t'>
        </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;▕&quot;</span><span class='hljl-p'>;</span><span class='hljl-n'>color</span><span class='hljl-oB'>=:</span><span class='hljl-n'>blue</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-nf'>println</span><span class='hljl-p'>()</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-nf'>printstyled</span><span class='hljl-p'>(</span><span class='hljl-nf'>repeat</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;▔&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>cols</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>);</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-oB'>=:</span><span class='hljl-n'>blue</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>println</span><span class='hljl-p'>()</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre>


<pre class="output">
print_labyrinth &#40;generic function with 1 method&#41;
</pre>


<hr />
<h2>Formulation of the task as a graph search problem</h2>
<p>We create an instance of the problem with initial theseus coordinates &#40;2,1&#41; and goal coordinates &#40;2,4&#41;</p>

<h3>Step 1: The initial state</h3>


<pre class='hljl'>
<span class='hljl-n'>theseus_start</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>initial_state</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-n'>TheseusLabyrinth</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>initial_state</span><span class='hljl-t'> </span><span class='hljl-p'>;</span>
</pre>



<p>We need the <code>DataStructures.jl</code> package for queues and OrderedSet.</p>


<pre class='hljl'>
<span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>DataStructures</span>
</pre>



<h3>Step 2: The possible actions in a state.</h3>
<p>We now define a function that gives us the possible actions from a given state, and define the function that gives us an ordered set of all possible actions the agent can do in our world. The <code>actions</code> function works by excluding  the neighbouring cells where theseus cannot move, removing the actions  from the set. We will want to try out different orderings of the functions, hence, we use an <code>OrderedSet</code> instead of a regular <code>Set</code>.</p>


<pre class='hljl'>
<span class='hljl-n'>actions_set</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>OrderedSet</span><span class='hljl-p'>([</span><span class='hljl-oB'>:↑</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:←</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:→</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:↓</span><span class='hljl-p'>])</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>actions</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-n'>TheseusLabyrinth</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-p'>)</span><span class='hljl-t'> 
    </span><span class='hljl-n'>y</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-t'>
    </span><span class='hljl-n'>world</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>world</span><span class='hljl-t'>
    </span><span class='hljl-n'>rows</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>cols</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>size</span><span class='hljl-p'>(</span><span class='hljl-n'>world</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>possible_actions</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>all_actions</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>)</span><span class='hljl-t'>

    </span><span class='hljl-n'>neigh_up</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-oB'>-</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>neigh_down</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-oB'>+</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>neigh_left</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-oB'>-</span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>neigh_right</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-oB'>+</span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>

    </span><span class='hljl-n'>cell</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>world</span><span class='hljl-p'>[</span><span class='hljl-n'>state</span><span class='hljl-oB'>...</span><span class='hljl-p'>]</span><span class='hljl-t'>

    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-oB'>!</span><span class='hljl-nf'>checkbounds</span><span class='hljl-p'>(</span><span class='hljl-n'>Bool</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>world</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>neigh_up</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>||</span><span class='hljl-t'> 
            </span><span class='hljl-n'>cell</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>TO</span><span class='hljl-t'> </span><span class='hljl-oB'>||</span><span class='hljl-t'> </span><span class='hljl-n'>world</span><span class='hljl-p'>[</span><span class='hljl-n'>neigh_up</span><span class='hljl-oB'>...</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>BO</span><span class='hljl-t'>
        </span><span class='hljl-nf'>delete!</span><span class='hljl-p'>(</span><span class='hljl-n'>possible_actions</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:↑</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-oB'>!</span><span class='hljl-nf'>checkbounds</span><span class='hljl-p'>(</span><span class='hljl-n'>Bool</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>world</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>neigh_down</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>||</span><span class='hljl-t'> 
            </span><span class='hljl-n'>cell</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>BO</span><span class='hljl-t'> </span><span class='hljl-oB'>||</span><span class='hljl-t'> </span><span class='hljl-n'>world</span><span class='hljl-p'>[</span><span class='hljl-n'>neigh_down</span><span class='hljl-oB'>...</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>TO</span><span class='hljl-t'>
        </span><span class='hljl-nf'>delete!</span><span class='hljl-p'>(</span><span class='hljl-n'>possible_actions</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:↓</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-oB'>!</span><span class='hljl-nf'>checkbounds</span><span class='hljl-p'>(</span><span class='hljl-n'>Bool</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>world</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>neigh_left</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>||</span><span class='hljl-t'> 
            </span><span class='hljl-n'>cell</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>LE</span><span class='hljl-t'> </span><span class='hljl-oB'>||</span><span class='hljl-t'> </span><span class='hljl-n'>world</span><span class='hljl-p'>[</span><span class='hljl-n'>neigh_left</span><span class='hljl-oB'>...</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>RI</span><span class='hljl-t'>
        </span><span class='hljl-nf'>delete!</span><span class='hljl-p'>(</span><span class='hljl-n'>possible_actions</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:←</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-oB'>!</span><span class='hljl-nf'>checkbounds</span><span class='hljl-p'>(</span><span class='hljl-n'>Bool</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>world</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>neigh_right</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>||</span><span class='hljl-t'> 
            </span><span class='hljl-n'>cell</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>RI</span><span class='hljl-t'> </span><span class='hljl-oB'>||</span><span class='hljl-t'> </span><span class='hljl-n'>world</span><span class='hljl-p'>[</span><span class='hljl-n'>neigh_right</span><span class='hljl-oB'>...</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>LE</span><span class='hljl-t'>
        </span><span class='hljl-nf'>delete!</span><span class='hljl-p'>(</span><span class='hljl-n'>possible_actions</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:→</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>

    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-n'>possible_actions</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'> </span><span class='hljl-p'>;</span>
</pre>



<h3>Step 3: The transition model</h3>
<p>We now have to define the <strong>transition model</strong> by defining a function <span class="math">$result : State \times Action \to State$</span> function that returns the successor state.</p>


<pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>apply_action</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-n'>TheseusLabyrinth</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>y</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-t'>
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-oB'>∉</span><span class='hljl-t'> </span><span class='hljl-nf'>actions</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-nf'>error</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;cannot apply action </span><span class='hljl-si'>$action</span><span class='hljl-s'> in state </span><span class='hljl-si'>$</span><span class='hljl-p'>(</span><span class='hljl-n'>state</span><span class='hljl-p'>)</span><span class='hljl-s'>!&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'> 
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-oB'>:↑</span><span class='hljl-t'>
        </span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-oB'>-</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-oB'>:↓</span><span class='hljl-t'>
        </span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-oB'>+</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-oB'>:←</span><span class='hljl-t'>
        </span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-oB'>-</span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-oB'>:→</span><span class='hljl-t'> 
        </span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-oB'>+</span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>else</span><span class='hljl-t'> 
        </span><span class='hljl-nf'>error</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;unknown action&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre>


<pre class="output">
apply_action &#40;generic function with 1 method&#41;
</pre>


<h3>Step 4: Goal test</h3>
<p>Must be a boolean function, testing if the agent has found the solution.</p>


<pre class='hljl'>
<span class='hljl-nf'>test_goal</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-n'>TheseusLabyrinth</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>state</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>goal_state</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
test_goal &#40;generic function with 1 method&#41;
</pre>


<h3>Step 5: Cost of the path.</h3>
<p>The cost of a path is the sum of the costs of actions. Must never be negative We set the cost of actions to be 1</p>


<pre class='hljl'>
<span class='hljl-nf'>action_cost</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-n'>TheseusLabyrinth</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span>
</pre>


<pre class="output">
action_cost &#40;generic function with 1 method&#41;
</pre>


<hr />
<h2>Visualizing the state space</h2>
<p>The state space is implicityly defined by the initial state, the possible actions and the transition model. We now define a concrete instance of the Theseus&#39; Labyrinth problem </p>


<pre class='hljl'>
<span class='hljl-n'>problem_instance</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>TheseusLabyrinth</span><span class='hljl-p'>(</span><span class='hljl-n'>labyrinth</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>theseus_start</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>4</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>actions_set</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-p'>;</span><span class='hljl-t'>
</span><span class='hljl-nf'>all_actions</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-n'>TheseusLabyrinth</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>copy</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>all_actions</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
all_actions &#40;generic function with 1 method&#41;
</pre>


<p>Lets pretty print the labyrinth</p>


<pre class='hljl'>
<span class='hljl-nf'>print_labyrinth</span><span class='hljl-p'>(</span><span class='hljl-n'>problem_instance</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
▁▁▁▁▁▁
▏  ▁ ▕
▏θ▔▕⋆▕
▏▔▕▕ ▕
▏ ▔  ▕
▔▔▔▔▔▔
</pre>


<p>Let&#39;s build and draw the state space graph</p>


<pre class='hljl'>
<span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>LightGraphs</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>MetaGraphs</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>GraphRecipes</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Plots</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>build_search_space</span><span class='hljl-p'>(</span><span class='hljl-n'>prob_inst</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>rows</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>cols</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>size</span><span class='hljl-p'>(</span><span class='hljl-n'>prob_inst</span><span class='hljl-oB'>.</span><span class='hljl-n'>world</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>g</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>MetaGraph</span><span class='hljl-p'>()</span><span class='hljl-t'>
    </span><span class='hljl-nf'>set_indexing_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>)</span><span class='hljl-t'>

    </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>cols</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>rows</span><span class='hljl-t'> 
        </span><span class='hljl-nf'>add_vertex!</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>nv</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-n'>y</span><span class='hljl-p'>))</span><span class='hljl-t'>
        </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>nv</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-sc'>:name</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>repr</span><span class='hljl-p'>((</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-n'>y</span><span class='hljl-p'>)))</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>

    </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-nf'>nv</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>g</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>]</span><span class='hljl-t'>

        </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-nf'>actions</span><span class='hljl-p'>(</span><span class='hljl-n'>prob_inst</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-n'>res_state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>apply_action</span><span class='hljl-p'>(</span><span class='hljl-n'>prob_inst</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-n'>j</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>g</span><span class='hljl-p'>[</span><span class='hljl-n'>res_state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>]</span><span class='hljl-t'>
            </span><span class='hljl-nf'>add_edge!</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>

    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-n'>g</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>get_labels</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>prob_inst</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-p'>[</span><span class='hljl-t'>
        </span><span class='hljl-k'>begin</span><span class='hljl-t'>
            </span><span class='hljl-n'>state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>get_prop</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-t'> </span><span class='hljl-oB'>==</span><span class='hljl-t'> </span><span class='hljl-n'>initial_state</span><span class='hljl-t'>
                </span><span class='hljl-s'>&quot;START </span><span class='hljl-si'>$state</span><span class='hljl-s'>&quot;</span><span class='hljl-t'>
            </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-nf'>test_goal</span><span class='hljl-p'>(</span><span class='hljl-n'>prob_inst</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>state</span><span class='hljl-p'>)</span><span class='hljl-t'>
                </span><span class='hljl-s'>&quot;GOAL </span><span class='hljl-si'>$state</span><span class='hljl-s'>&quot;</span><span class='hljl-t'>
            </span><span class='hljl-k'>else</span><span class='hljl-t'> 
                </span><span class='hljl-nf'>repr</span><span class='hljl-p'>(</span><span class='hljl-n'>state</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>end</span><span class='hljl-t'> 
        </span><span class='hljl-k'>end</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-nf'>nv</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>


</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>plot_search_space</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>prob_inst</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>graphplot</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>names</span><span class='hljl-oB'>=</span><span class='hljl-nf'>get_labels</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>prob_inst</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>curves</span><span class='hljl-oB'>=</span><span class='hljl-kc'>false</span><span class='hljl-p'>,</span><span class='hljl-t'> 
    </span><span class='hljl-n'>nodeshape</span><span class='hljl-oB'>=:</span><span class='hljl-n'>rect</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nodecolor</span><span class='hljl-oB'>=:</span><span class='hljl-n'>white</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nodesize</span><span class='hljl-oB'>=</span><span class='hljl-nfB'>0.15</span><span class='hljl-p'>,)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-n'>g</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>build_search_space</span><span class='hljl-p'>(</span><span class='hljl-n'>problem_instance</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>plot_search_space</span><span class='hljl-p'>(</span><span class='hljl-n'>g</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>problem_instance</span><span class='hljl-p'>)</span>
</pre>


<img src="data:image/png;base64,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"  />

<hr />
<h2>Tree Search Methods For solving the problem</h2>
<h3>Visualizing the search tree.</h3>
<p>We want to visualize as a tree, the states that have been visited by our algorithms. Let&#39;s define some helper function to do such.</p>


<pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>plot_search_tree</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>prob_inst</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>graphplot</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>names</span><span class='hljl-oB'>=</span><span class='hljl-nf'>get_labels</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>prob_inst</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>curves</span><span class='hljl-oB'>=</span><span class='hljl-kc'>false</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>method</span><span class='hljl-oB'>=:</span><span class='hljl-n'>buchheim</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>root</span><span class='hljl-oB'>=:</span><span class='hljl-n'>left</span><span class='hljl-p'>,</span><span class='hljl-t'>
        </span><span class='hljl-n'>nodeshape</span><span class='hljl-oB'>=:</span><span class='hljl-n'>rect</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nodecolor</span><span class='hljl-oB'>=:</span><span class='hljl-n'>white</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nodesize</span><span class='hljl-oB'>=</span><span class='hljl-nfB'>0.15</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>size</span><span class='hljl-oB'>=</span><span class='hljl-p'>(</span><span class='hljl-ni'>1280</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>1000</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>axis_buffer</span><span class='hljl-oB'>=</span><span class='hljl-nfB'>0.04</span><span class='hljl-p'>)</span><span class='hljl-t'>    
</span><span class='hljl-k'>end</span>
</pre>


<pre class="output">
plot_search_tree &#40;generic function with 1 method&#41;
</pre>


<p>We also define a recursive type that holds the solution path </p>


<pre class='hljl'>
<span class='hljl-k'>struct</span><span class='hljl-t'> </span><span class='hljl-nf'>Node</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>state</span><span class='hljl-oB'>::</span><span class='hljl-n'>S</span><span class='hljl-t'> 
    </span><span class='hljl-n'>parent</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Union</span><span class='hljl-p'>{</span><span class='hljl-n'>Nothing</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>Node</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}}</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-nf'>Node</span><span class='hljl-p'>(</span><span class='hljl-n'>a</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Node</span><span class='hljl-p'>(</span><span class='hljl-n'>a</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nothing</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>Base</span><span class='hljl-oB'>.</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-n'>node</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Node</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>})</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'> 
    </span><span class='hljl-n'>curr</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-t'>
    </span><span class='hljl-n'>arr</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>[]</span><span class='hljl-t'>
    </span><span class='hljl-k'>while</span><span class='hljl-t'> </span><span class='hljl-n'>curr</span><span class='hljl-t'> </span><span class='hljl-oB'>!==</span><span class='hljl-t'> </span><span class='hljl-n'>nothing</span><span class='hljl-t'>
        </span><span class='hljl-nf'>push!</span><span class='hljl-p'>(</span><span class='hljl-n'>arr</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>curr</span><span class='hljl-oB'>.</span><span class='hljl-n'>state</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>curr</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>curr</span><span class='hljl-oB'>.</span><span class='hljl-n'>parent</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-nf'>reverse</span><span class='hljl-p'>(</span><span class='hljl-n'>arr</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre>



<h3>Breadth First Search &#40;Tree&#41;</h3>
<p>The Breadth First Search algorithm is a <strong>complete</strong> and <strong>optimal</strong> search algorithm, but is quite expensive. It means that it always finds the solution &#40;if existing&#41; and  always finds the shortest path to the solution, assuming that the <strong>actions have constant cost</strong>.</p>
<p><strong>Time Complexity</strong>: <span class="math">$O(b^d)$</span> if the the branching factor <span class="math">$b$</span> is fixed,  where <span class="math">$d$</span> is the depth of the goal node closest to the initial state. Alternatively, if the branching factor <span class="math">$b$</span> is not fixed, the worst case time complexity of BFS  can be formulated as <span class="math">$O(|V| + |E|)$</span> where the graph <span class="math">$G = \{V, E\}$</span> &#40;set of vertices and edges&#41;</p>
<p><strong>Space Complexity</strong>: <span class="math">$O(b^d)$</span></p>


<pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_bfs</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>})</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>root</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>initial_state</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>)</span><span class='hljl-t'>

    </span><span class='hljl-cs'># search tree</span><span class='hljl-t'>
    </span><span class='hljl-n'>st</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>MetaGraph</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>frontier</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Queue</span><span class='hljl-p'>{</span><span class='hljl-nf'>Tuple</span><span class='hljl-p'>{</span><span class='hljl-nf'>Node</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>Int</span><span class='hljl-p'>}}()</span><span class='hljl-t'>
    </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>nv</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>root</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>enqueue!</span><span class='hljl-p'>(</span><span class='hljl-n'>frontier</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-nf'>Node</span><span class='hljl-p'>(</span><span class='hljl-n'>root</span><span class='hljl-p'>),</span><span class='hljl-n'>i</span><span class='hljl-p'>))</span><span class='hljl-t'>

    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-nf'>test_goal</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>root</span><span class='hljl-p'>))</span><span class='hljl-t'>
        </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>true</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>root</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>

    </span><span class='hljl-k'>while</span><span class='hljl-t'> </span><span class='hljl-oB'>!</span><span class='hljl-nf'>isempty</span><span class='hljl-p'>(</span><span class='hljl-n'>frontier</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>node</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>dequeue!</span><span class='hljl-p'>(</span><span class='hljl-n'>frontier</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>i_state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-oB'>.</span><span class='hljl-n'>state</span><span class='hljl-t'>
        </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-nf'>actions</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-n'>j_state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>apply_action</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-n'>child</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Node</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}(</span><span class='hljl-n'>j_state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-p'>)</span><span class='hljl-t'>

            </span><span class='hljl-nf'>add_vertex!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-n'>j</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>nv</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-nf'>add_edge!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-p'>)</span><span class='hljl-t'>

            </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-nf'>test_goal</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
                </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>true</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>child</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>end</span><span class='hljl-t'>
            </span><span class='hljl-nf'>enqueue!</span><span class='hljl-p'>(</span><span class='hljl-n'>frontier</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>child</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-p'>))</span><span class='hljl-t'>
        </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>

    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>false</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nothing</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-n'>ok</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>result</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_bfs</span><span class='hljl-p'>(</span><span class='hljl-n'>problem_instance</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>plot_search_tree</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>problem_instance</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-n'>result</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
6-element Vector&#123;Tuple&#123;Int64, Int64&#125;&#125;:
 &#40;2, 1&#41;
 &#40;1, 1&#41;
 &#40;1, 2&#41;
 &#40;1, 3&#41;
 &#40;1, 4&#41;
 &#40;2, 4&#41;
</pre>


<h3>Depth First Search &#40;Tree&#41;</h3>
<p>The Depth First Search algorithm is a <strong>non-optimal</strong> search algorithm, It is not complete on infinite spaces or with the <strong>tree</strong> method This algorithm can loop indefinetly&#33; It can be implemented as BFS by using a LIFO queue instead &#40;a <code>Stack</code> data structure&#41; for the frontier, or can be more efficiently implemented as a recursive traversal of the graph <strong>Time Complexity</strong>: <span class="math">$O(b^d)$</span> if the the branching factor <span class="math">$b$</span> is fixed,  where <span class="math">$d$</span> is the depth of the goal node closest to the initial state. Alternatively, if the branching factor <span class="math">$b$</span> is not fixed, the worst case time complexity of BFS  can be formulated as <span class="math">$O(|V| + |E|)$</span> where the graph <span class="math">$G = \{V, E\}$</span> &#40;set of vertices and edges&#41;</p>
<p><strong>Space Complexity</strong>: <span class="math">$O(b \cdot d)$</span></p>


<pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_dfs</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-n'>S</span><span class='hljl-p'>})</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>root</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>initial_state</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>root_node</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Node</span><span class='hljl-p'>(</span><span class='hljl-n'>root</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-cs'># search tree</span><span class='hljl-t'>
    </span><span class='hljl-n'>st</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>MetaGraph</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>nv</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>root</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>tree_dfs_rec</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>root_node</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_dfs_rec</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Node</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>i_state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-oB'>.</span><span class='hljl-n'>state</span><span class='hljl-t'>
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-nf'>test_goal</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>))</span><span class='hljl-t'>
        </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>true</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>

    </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-nf'>actions</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-cs'># println(action)</span><span class='hljl-t'>
        </span><span class='hljl-cs'># println(i_state)</span><span class='hljl-t'>
        </span><span class='hljl-n'>j_state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>apply_action</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>child</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Node</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}(</span><span class='hljl-n'>j_state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-p'>)</span><span class='hljl-t'>

        </span><span class='hljl-nf'>add_vertex!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>j</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>nv</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-nf'>add_edge!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-p'>)</span><span class='hljl-t'>

        </span><span class='hljl-n'>ok</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>res</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>_</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_dfs_rec</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>child</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>

        </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>ok</span><span class='hljl-t'>
            </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>true</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>res</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>

    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>false</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nothing</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>


</span><span class='hljl-n'>orders</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>OrderedSet</span><span class='hljl-p'>([</span><span class='hljl-oB'>:↑</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:←</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:→</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:↓</span><span class='hljl-p'>]),</span><span class='hljl-t'> </span><span class='hljl-nf'>OrderedSet</span><span class='hljl-p'>([</span><span class='hljl-oB'>:←</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:↓</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:→</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:↑</span><span class='hljl-p'>]),</span><span class='hljl-t'> </span><span class='hljl-nf'>OrderedSet</span><span class='hljl-p'>([</span><span class='hljl-oB'>:↑</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:→</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:↓</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:←</span><span class='hljl-p'>])]</span><span class='hljl-t'>

</span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>ordering</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-n'>orders</span><span class='hljl-t'>
    </span><span class='hljl-n'>problem_instance</span><span class='hljl-oB'>.</span><span class='hljl-n'>all_actions</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>ordering</span><span class='hljl-t'>
    </span><span class='hljl-k'>try</span><span class='hljl-t'> 
        </span><span class='hljl-nf'>println</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;Ordering </span><span class='hljl-si'>$</span><span class='hljl-p'>(</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-n'>ordering</span><span class='hljl-p'>))</span><span class='hljl-s'>&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>ok</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>result</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_dfs</span><span class='hljl-p'>(</span><span class='hljl-n'>problem_instance</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>ok</span><span class='hljl-t'> 
            </span><span class='hljl-nf'>println</span><span class='hljl-p'>(</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-n'>result</span><span class='hljl-p'>))</span><span class='hljl-t'>
            </span><span class='hljl-nf'>plot_search_tree</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>problem_instance</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-k'>else</span><span class='hljl-t'> 
            </span><span class='hljl-nf'>println</span><span class='hljl-p'>(</span><span class='hljl-n'>nothing</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>catch</span><span class='hljl-t'> </span><span class='hljl-n'>e</span><span class='hljl-t'> 
        </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>e</span><span class='hljl-t'> </span><span class='hljl-n'>isa</span><span class='hljl-t'> </span><span class='hljl-n'>StackOverflowError</span><span class='hljl-t'>
            </span><span class='hljl-nf'>println</span><span class='hljl-p'>(</span><span class='hljl-s'>&quot;Error! Has looped&quot;</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-k'>else</span><span class='hljl-t'> 
            </span><span class='hljl-nf'>rethrow</span><span class='hljl-p'>(</span><span class='hljl-n'>e</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span>
</pre>


<pre class="output">
Ordering &#91;:↑, :←, :→, :↓&#93;
Error&#33; Has looped
Ordering &#91;:←, :↓, :→, :↑&#93;
Error&#33; Has looped
Ordering &#91;:↑, :→, :↓, :←&#93;
&#91;&#40;2, 1&#41;, &#40;1, 1&#41;, &#40;1, 2&#41;, &#40;1, 3&#41;, &#40;1, 4&#41;, &#40;2, 4&#41;&#93;
</pre>


<h3>Depth Limited Search &#40;Tree&#41;</h3>
<p>The Depth Limited Search algorithm is a <strong>non-complete</strong> and <strong>non-optimal</strong> search algorithm, This algorithm behaves like Depth First Search but stops at a pre-defined depth limit.</p>
<p><strong>Time Complexity</strong>: <span class="math">$O(b^l)$</span> <strong>Space Complexity</strong>: <span class="math">$O(b \cdot l)$</span></p>


<pre class='hljl'>
<span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_dls</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>limit</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>root</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>initial_state</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>root_node</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Node</span><span class='hljl-p'>(</span><span class='hljl-n'>root</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-cs'># search tree</span><span class='hljl-t'>
    </span><span class='hljl-n'>st</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>MetaGraph</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>nv</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>root</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>depth</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-t'>
    </span><span class='hljl-nf'>tree_dls_rec</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>root_node</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>depth</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>limit</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_dls_rec</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Node</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>depth</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>limit</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>i_state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-oB'>.</span><span class='hljl-n'>state</span><span class='hljl-t'>
    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-nf'>test_goal</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>))</span><span class='hljl-t'>
        </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>true</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>

    </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>depth</span><span class='hljl-t'> </span><span class='hljl-oB'>&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>limit</span><span class='hljl-t'>
        </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>false</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nothing</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>

    </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-nf'>actions</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>j_state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>apply_action</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>child</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Node</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}(</span><span class='hljl-n'>j_state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-p'>)</span><span class='hljl-t'>

        </span><span class='hljl-nf'>add_vertex!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>j</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>nv</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-nf'>set_prop!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-nf'>add_edge!</span><span class='hljl-p'>(</span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-p'>)</span><span class='hljl-t'>

        </span><span class='hljl-n'>ok</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>res</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>_</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_dls_rec</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>child</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>depth</span><span class='hljl-oB'>+</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>limit</span><span class='hljl-p'>)</span><span class='hljl-t'>

        </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>ok</span><span class='hljl-t'>
            </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>true</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>res</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>

    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>false</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nothing</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>


</span><span class='hljl-n'>ok</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>result</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_dls</span><span class='hljl-p'>(</span><span class='hljl-n'>problem_instance</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>println</span><span class='hljl-p'>(</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-n'>result</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-cs'># plot_search_tree(st, problem_instance)</span><span class='hljl-t'>

</span><span class='hljl-n'>ok</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>result</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>tree_dls</span><span class='hljl-p'>(</span><span class='hljl-n'>problem_instance</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># ===============================================================</span><span class='hljl-t'>
</span><span class='hljl-cs'># ===============================================================</span><span class='hljl-t'>
</span><span class='hljl-cs'># ===============================================================</span><span class='hljl-t'>
</span><span class='hljl-cs'># ===============================================================</span>
</pre>


<pre class="output">
&#91;&#40;2, 1&#41;, &#40;1, 1&#41;, &#40;1, 2&#41;, &#40;1, 3&#41;, &#40;1, 4&#41;, &#40;2, 4&#41;&#93;
&#40;false, nothing, &#123;18, 17&#125; undirected Int64 metagraph with Float64 weights d
efined by :weight &#40;default weight 1.0&#41;&#41;
</pre>


<hr />
<h2>Graph Algorithms</h2>
<h3>The <em>A</em> Algorithms: Uniform Cost Search, Greedy Best First</h3>

<p>We also define a recursive type that holds the solution path </p>


<pre class='hljl'>
<span class='hljl-k'>mutable struct</span><span class='hljl-t'> </span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>state</span><span class='hljl-oB'>::</span><span class='hljl-n'>S</span><span class='hljl-t'> 
    </span><span class='hljl-n'>cost</span><span class='hljl-oB'>::</span><span class='hljl-n'>Real</span><span class='hljl-t'>
    </span><span class='hljl-n'>parent</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Union</span><span class='hljl-p'>{</span><span class='hljl-n'>Nothing</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}}</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>(</span><span class='hljl-n'>a</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>(</span><span class='hljl-n'>a</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>0</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nothing</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-n'>Base</span><span class='hljl-oB'>.</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-n'>node</span><span class='hljl-oB'>::</span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>})</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'> 
    </span><span class='hljl-n'>curr</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-t'>
    </span><span class='hljl-n'>arr</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>[]</span><span class='hljl-t'>
    </span><span class='hljl-k'>while</span><span class='hljl-t'> </span><span class='hljl-n'>curr</span><span class='hljl-t'> </span><span class='hljl-oB'>!==</span><span class='hljl-t'> </span><span class='hljl-n'>nothing</span><span class='hljl-t'>
        </span><span class='hljl-nf'>push!</span><span class='hljl-p'>(</span><span class='hljl-n'>arr</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>curr</span><span class='hljl-oB'>.</span><span class='hljl-n'>state</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>curr</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>curr</span><span class='hljl-oB'>.</span><span class='hljl-n'>parent</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-nf'>reverse</span><span class='hljl-p'>(</span><span class='hljl-n'>arr</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>a_search</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>f</span><span class='hljl-oB'>::</span><span class='hljl-n'>Function</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>i_state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>initial_state</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>i_node</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>(</span><span class='hljl-n'>i_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-cs'># st = MetaGraph() </span><span class='hljl-t'>
    </span><span class='hljl-cs'># i = nv(st)</span><span class='hljl-t'>
    </span><span class='hljl-cs'># set_prop!(st, i, :state, root)</span><span class='hljl-t'>
    </span><span class='hljl-n'>st</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>nothing</span><span class='hljl-t'>

    </span><span class='hljl-n'>frontier</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>PriorityQueue</span><span class='hljl-p'>()</span><span class='hljl-t'>
    </span><span class='hljl-n'>explored</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Set</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}()</span><span class='hljl-t'>

    </span><span class='hljl-cs'># enqueue</span><span class='hljl-t'>
    </span><span class='hljl-n'>frontier</span><span class='hljl-p'>[</span><span class='hljl-n'>i_node</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>f</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_node</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>while</span><span class='hljl-t'> </span><span class='hljl-oB'>!</span><span class='hljl-nf'>isempty</span><span class='hljl-p'>(</span><span class='hljl-n'>frontier</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-cs'># node, i = dequeue!(frontier)</span><span class='hljl-t'>
        </span><span class='hljl-n'>node</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>dequeue!</span><span class='hljl-p'>(</span><span class='hljl-n'>frontier</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>i_state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-oB'>.</span><span class='hljl-n'>state</span><span class='hljl-t'>
        </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-nf'>test_goal</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>true</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-k'>end</span><span class='hljl-t'>

        </span><span class='hljl-nf'>push!</span><span class='hljl-p'>(</span><span class='hljl-n'>explored</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>)</span><span class='hljl-t'>

        </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-nf'>actions</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-n'>j_state</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>apply_action</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-n'>child</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>}(</span><span class='hljl-n'>j_state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-oB'>.</span><span class='hljl-n'>cost</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-nf'>action_cost</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i_state</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>action</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>node</span><span class='hljl-p'>)</span><span class='hljl-t'>

            </span><span class='hljl-cs'># add_vertex!(st)</span><span class='hljl-t'>
            </span><span class='hljl-cs'># j = nv(st)</span><span class='hljl-t'>
            </span><span class='hljl-cs'># set_prop!(st, j, :state, j_state)</span><span class='hljl-t'>
            </span><span class='hljl-cs'># add_edge!(st, i, j)</span><span class='hljl-t'>
            
            </span><span class='hljl-k'>if</span><span class='hljl-t'> </span><span class='hljl-n'>j_state</span><span class='hljl-t'> </span><span class='hljl-oB'>∉</span><span class='hljl-t'> </span><span class='hljl-n'>explored</span><span class='hljl-t'> </span><span class='hljl-oB'>&amp;&amp;</span><span class='hljl-t'> </span><span class='hljl-oB'>!</span><span class='hljl-nf'>haskey</span><span class='hljl-p'>(</span><span class='hljl-n'>frontier</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j_state</span><span class='hljl-p'>)</span><span class='hljl-t'>
                </span><span class='hljl-n'>frontier</span><span class='hljl-p'>[</span><span class='hljl-n'>child</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>f</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>child</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>elseif</span><span class='hljl-t'> </span><span class='hljl-nf'>haskey</span><span class='hljl-p'>(</span><span class='hljl-n'>frontier</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>j_state</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>&amp;&amp;</span><span class='hljl-t'> </span><span class='hljl-n'>frontier</span><span class='hljl-p'>[</span><span class='hljl-n'>j_state</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>&gt;</span><span class='hljl-t'> </span><span class='hljl-nf'>f</span><span class='hljl-p'>(</span><span class='hljl-n'>child</span><span class='hljl-p'>)</span><span class='hljl-t'> 
                </span><span class='hljl-n'>frontier</span><span class='hljl-p'>[</span><span class='hljl-n'>child</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>f</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>child</span><span class='hljl-p'>)</span><span class='hljl-t'>
            </span><span class='hljl-k'>end</span><span class='hljl-t'>
        </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-kc'>false</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nothing</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>distmd</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-oB'>::</span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>})</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>y</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-oB'>.</span><span class='hljl-n'>state</span><span class='hljl-t'>
    </span><span class='hljl-n'>yg</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>xg</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>goal_state</span><span class='hljl-t'>
    </span><span class='hljl-n'>md</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>abs</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>-</span><span class='hljl-t'> </span><span class='hljl-n'>xg</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-nf'>abs</span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-t'> </span><span class='hljl-oB'>-</span><span class='hljl-t'> </span><span class='hljl-n'>yg</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>n</span><span class='hljl-oB'>.</span><span class='hljl-n'>cost</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-n'>md</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'> 

</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>manhattan_distance</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-oB'>::</span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>})</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'>
    </span><span class='hljl-n'>y</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-oB'>.</span><span class='hljl-n'>state</span><span class='hljl-t'>
    </span><span class='hljl-n'>yg</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>xg</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>p</span><span class='hljl-oB'>.</span><span class='hljl-n'>goal_state</span><span class='hljl-t'>
    </span><span class='hljl-nf'>abs</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-t'> </span><span class='hljl-oB'>-</span><span class='hljl-t'> </span><span class='hljl-n'>xg</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-nf'>abs</span><span class='hljl-p'>(</span><span class='hljl-n'>y</span><span class='hljl-t'> </span><span class='hljl-oB'>-</span><span class='hljl-t'> </span><span class='hljl-n'>yg</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-nf'>distmd</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-oB'>::</span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>})</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-oB'>.</span><span class='hljl-n'>cost</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-nf'>manhattan_distance</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-p'>,</span><span class='hljl-n'>n</span><span class='hljl-p'>)</span><span class='hljl-t'>
 
</span><span class='hljl-nf'>cost_only</span><span class='hljl-p'>(</span><span class='hljl-n'>p</span><span class='hljl-oB'>::</span><span class='hljl-nf'>Problem</span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>S</span><span class='hljl-p'>},</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-oB'>::</span><span class='hljl-nf'>WeightedNode</span><span class='hljl-p'>{</span><span class='hljl-n'>S</span><span class='hljl-p'>})</span><span class='hljl-t'> </span><span class='hljl-n'>where</span><span class='hljl-t'> </span><span class='hljl-p'>{</span><span class='hljl-n'>W</span><span class='hljl-p'>,</span><span class='hljl-n'>S</span><span class='hljl-p'>}</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>n</span><span class='hljl-oB'>.</span><span class='hljl-n'>cost</span>
</pre>


<pre class="output">
cost_only &#40;generic function with 1 method&#41;
</pre>


<p>let&#39;s try A, UC and Greedy Best First searches on a bigger, randomly generated labyrinth</p>


<pre class='hljl'>
<span class='hljl-n'>bigger_labyrinth</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>gen_labyrinth</span><span class='hljl-p'>(</span><span class='hljl-ni'>10</span><span class='hljl-p'>,</span><span class='hljl-ni'>10</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>another_start</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-ni'>3</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-ni'>3</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>another_goal</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-ni'>7</span><span class='hljl-oB'>:</span><span class='hljl-ni'>10</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-ni'>7</span><span class='hljl-oB'>:</span><span class='hljl-ni'>10</span><span class='hljl-p'>))</span>
</pre>


<pre class="output">
&#40;10, 10&#41;
</pre>


<p>if <span class="math">$f(n) = g(n)$</span> then <em>A</em> behaves exactly as Uniform Cost Search &#40;Dijkstra&#39;s Algorithm&#41;</p>


<pre class='hljl'>
<span class='hljl-n'>another_instance</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>TheseusLabyrinth</span><span class='hljl-p'>(</span><span class='hljl-n'>bigger_labyrinth</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>another_start</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>another_goal</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>actions_set</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>print_labyrinth</span><span class='hljl-p'>(</span><span class='hljl-n'>another_instance</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nd'>@timev</span><span class='hljl-t'> </span><span class='hljl-n'>ok</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>result</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>a_search</span><span class='hljl-p'>(</span><span class='hljl-n'>another_instance</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>cost_only</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-n'>result</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>result</span><span class='hljl-oB'>.</span><span class='hljl-n'>cost</span>
</pre>


<pre class="output">
▁▁▁▁▁▁▁▁▁▁▁▁
▏▁  ▏▏ ▕▁▔▕▕
▏ ▕▁▏▔▁ ▕▁▏▕
▏    ▏▕▏▁  ▕
▏▏▁▔ ▏ ▕▏▕▏▕
▏▁▕▕▁   ▔▏▔▕
▏ ▕ ▕▔▁▔▁▁ ▕
▏▔   ▔▔▔▔▕▔▕
▏▏▕ ▔ ▕ ▏ ▁▕
▏▏▁▏▁▁ ▔▕▕▔▕
▏▁▁▏ ▏▔ ▕▏▕▕
▔▔▔▔▔▔▔▔▔▔▔▔
  0.307728 seconds &#40;469.78 k allocations: 27.534 MiB, 99.43&#37; compilation ti
me&#41;
elapsed time &#40;ns&#41;: 307727858
bytes allocated:   28871021
pool allocs:       469715
non-pool GC allocs:66
&#40;&#91;&#40;2, 2&#41;, &#40;3, 2&#41;, &#40;4, 2&#41;, &#40;4, 3&#41;, &#40;5, 3&#41;, &#40;6, 3&#41;, &#40;7, 3&#41;, &#40;7, 4&#41;, &#40;7, 5&#41;, &#40;
7, 6&#41;, &#40;7, 7&#41;, &#40;7, 8&#41;, &#40;8, 8&#41;, &#40;8, 9&#41;, &#40;9, 9&#41;, &#40;10, 9&#41;, &#40;10, 10&#41;&#93;, 16&#41;
</pre>


<p>if <span class="math">$f(n) = g(n)$</span> then <em>A</em> behaves exactly as Uniform Cost Search &#40;Dijkstra&#39;s Algorithm&#41;</p>


<pre class='hljl'>
<span class='hljl-n'>another_instance</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>TheseusLabyrinth</span><span class='hljl-p'>(</span><span class='hljl-n'>bigger_labyrinth</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>another_start</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>another_goal</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>actions_set</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nd'>@timev</span><span class='hljl-t'> </span><span class='hljl-n'>ok</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>result</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>st</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>a_search</span><span class='hljl-p'>(</span><span class='hljl-n'>another_instance</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>distmd</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-n'>result</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>result</span><span class='hljl-oB'>.</span><span class='hljl-n'>cost</span>
</pre>


<pre class="output">
0.029804 seconds &#40;39.05 k allocations: 2.365 MiB, 98.84&#37; compilation time
&#41;
elapsed time &#40;ns&#41;: 29803644
bytes allocated:   2479911
pool allocs:       39049
non-pool GC allocs:1
&#40;&#91;&#40;2, 2&#41;, &#40;3, 2&#41;, &#40;4, 2&#41;, &#40;4, 3&#41;, &#40;5, 3&#41;, &#40;6, 3&#41;, &#40;7, 3&#41;, &#40;7, 4&#41;, &#40;7, 5&#41;, &#40;
7, 6&#41;, &#40;7, 7&#41;, &#40;7, 8&#41;, &#40;7, 9&#41;, &#40;8, 9&#41;, &#40;9, 9&#41;, &#40;10, 9&#41;, &#40;10, 10&#41;&#93;, 16&#41;
</pre>


<p>UC, <em>A** and BFS are optimal search algorithms: they can all be seen as special cases of the *A</em> algorithm</p>
<ul>
<li><p>UC: <span class="math">$f(n) = g(n)$</span></p>
</li>
<li><p><em>A**: <span class="math">$f(n) = g(n) + h(n)$</span> where &#36;h&#40;n&#41; &lt; h^</em>&#40;n&#41; &#61; &#36; cost of the shortest path from <span class="math">$n$</span> to the goal.</p>
</li>
<li><p>BFS: <span class="math">$f(n) = 1$</span></p>
</li>
</ul>


        <HR/>
        <div class="footer">
          <p>
            Published from <a href="es1.jl">es1.jl</a>
            using <a href="http://github.com/JunoLab/Weave.jl">Weave.jl</a> v0.10.7 on 2021-04-22.
          </p>
        </div>
      </div>
    </div>
  </div>
</BODY>

</HTML>
